<!--=====================================================================================================+
    Component name      :   cpqAASubmit.cmp 
    Author              :   kimishra
    Created             :   04-JUN-20
    Purpose             :   For submitting the quote for approval.
                           
    Last Modified Developer           		Purpose            
    ============= ========================  ======= 
    04-JUN-20     kimishra  				Initial Development(Jira Ticket# CPQ-256)
+=====================================================================================================-->

<aura:component controller="QuoteExtController" implements="force:lightningQuickActionWithoutHeader,force:hasRecordId">
    <aura:attribute name="recordId" type="Id" description="stores the AD record id" />
    <aura:attribute name="validQuote" type="Boolean" default="false" />

    <!-- LDS to get the record details in controller -->
    <aura:attribute name="record" type="Object" />
    <aura:attribute name="simpleRecord" type="Object" />
    <aura:attribute name="recordError" type="String" />
    <aura:attribute name="recordFields" type="List" default="['CPQ_Primary__c','CPQ_Order_Approval__c']" />

    <force:recordData aura:id="recordLoader" recordId="{!v.recordId}" targetRecord="{!v.record}"
        targetFields="{!v.simpleRecord}" targetError="{!v.recordError}" fields="{!v.recordFields}"
        recordUpdated="{!c.handleRecordUpdated}" layoutType="FULL" />

    <aura:if isTrue="{!v.validQuote}">
        <div class="slds-align_absolute-center slds-text-heading_medium">
            Please wait, while we submit the quote for approval!
        </div>
        <div class="slds-align_absolute-center">
            Do not close the window.
        </div>
        <br />
        <div class="holder">
            <img src="{!$Resource.loadstein + '/loadstein.gif'}" alt="Placeholder" />
        </div>
    </aura:if>
</aura:component>