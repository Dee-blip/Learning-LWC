<aura:component implements="flexipage:availableForAllPageTypes,lightning:actionOverride,flexipage:availableForRecordHome,force:hasRecordId,forceCommunity:availableForAllPageTypes,force:appHostable,force:lightningQuickAction" access="global"  controller="L2Q_NewAccountCreationController" >
    
    <aura:attribute name="recordId" type="String" />
    <aura:attribute name="ErrorMessage" type="String"/>
    <aura:attribute name="showHideSection" type="Boolean" default="false"/>
    <aura:attribute name = "showAccountEdit" type = "Boolean" default = "false" />
    <aura:attribute name="spinnerBool" type="boolean" default="false"/>
    <aura:handler name="init" value="{!this}" action="{!c.doInit}"/>
     <aura:attribute name="ShowtableFlag" type="boolean" default="false"/>
        <aura:attribute type="object[]" name="acctList" default = "[]"/>
        <aura:attribute name="mycolumns" type="List"/>
    
    <aura:if isTrue="{!v.spinnerBool}">
        <lightning:spinner  size="medium" />
    </aura:if>

            <aura:if isTrue="{!v.ShowtableFlag}">

            <div class="slds-card " style="height:200px;padding:1px 4px 1px 4px;">
<p>Duplicate Record Found use one of these records</p>
                <lightning:datatable data="{!v.acctList}" keyField="id" 
                    columns="{! v.mycolumns }" enableInfiniteLoading ="true"
                         hideCheckboxColumn="true" /> 
           <br></br><br></br>
           <div style = "text-align:center">
                <lightning:button label="Return to Account Creation Request" onclick="{!c.cancellRecord}"/> &nbsp;&nbsp;&nbsp;
                 <lightning:button label="Proceed" aura:id="AllowDuplicate"  onclick="{!c.CreateAccount}"/>
             </div>
       </div>
            
        </aura:if>
            
            
               <div class = "slds-box" style = "text-align:center">
 
        <aura:if isTrue="{!v.showHideSection}">
            <div  style="color:red;" aura:id="ErrorMessageId">
                <ui:message title="Error" severity="error" closable="true">
                {!v.ErrorMessage}
            </ui:message>
                <br></br>
                <lightning:buttonGroup>
                <lightning:button label="Return to Account Creation Request" onclick="{!c.cancellRecord}"/> 
             </lightning:buttonGroup>
            </div>  
        </aura:if>
        <aura:if isTrue="{!v.showAccountEdit}">
            <div  style="color:blue;" >
                <p>     Confirm: Do you Wish to continue ?</p><br></br>
                <lightning:button label="Yes" aura:id="CreateNewAcc" onclick="{!c.CheckDupAccount}"/>
                <lightning:button label="Cancel" onclick="{!c.cancellRecord}"/>
            </div>
            
        </aura:if>
        
    </div>
    
</aura:component>