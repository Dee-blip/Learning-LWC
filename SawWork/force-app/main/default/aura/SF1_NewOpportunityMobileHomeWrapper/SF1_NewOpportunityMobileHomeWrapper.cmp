<aura:component access="global" controller="SF1_CreateNewOpportunityFlowController" implements="lightning:actionOverride,force:appHostable,flexipage:availableForAllPageTypes">

  <!-- checkfield for showing Home Component -->
  <aura:attribute name="showHome" type="Boolean" default="true"/>
  <!-- checkfield for showing Home Component's withContractBL checkBOX-->
  <aura:attribute name="showcheckFieldForWithContractBL" type="Boolean" default="false"/>
  <!-- checkfield for showing Home Component's withoutContractBL checkBOX-->
  <aura:attribute name="showcheckFieldForWithoutContractBL" type="Boolean" default="false"/>
  <!-- checkfield for showing create opportunity Component -->
  <aura:attribute name="showCreateOppty" type="Boolean" default="false"/>
  <!-- checkfield for showing with Contract BL Component-->
  <aura:attribute name="showWithContractBL" type="Boolean" default="false"/>
  <!-- checkfield for showing without Contract BL Component-->
  <aura:attribute name="showWithoutContractBL" type="Boolean" default="false"/>
  <!-- checkfield for showing open oppties with Contract BL Component-->
  <aura:attribute name="showOpenOpportunitiesWithBL" type="Boolean" default="false"/>
  <!-- checkfield for showing Currency Selection Component-->
  <aura:attribute name="showCurrencySelection" type="Boolean" default="false"/>
  <!-- checkfield if there is currencyMismatch-->
  <aura:attribute name="currencyMismatch" type="Boolean" default="false"/>
  <!-- contract's old Currency-->
  <aura:attribute name="oldCurrency" type="String"/>
  <!-- Ids of selected Contracts -->
  <aura:attribute name="selectedContractIDs" type="String[]" default="[]"/>
  <!-- details of account selected from custom Lookup Component -->
  <aura:attribute name="accountDetails" type="Account"/>
  <!-- ID of previously account selected from custom Lookup Component -->
  <aura:attribute name="previousAccountId" type="String"/>
  <!-- ID of account received from account section-->
  <aura:attribute name="receivedAccountID" type="String"/>

  <!-- SFDC-3550 -->
  <aura:attribute name="showIntermediatePage" type="boolean" default="false"/>
  <aura:attribute name="selectedOppType" type="String" default=""/>
  <aura:attribute name="opptyTypeMap" type="Map"/> 
  <aura:attribute name="opptyTypes" type="List"/>
  <aura:handler name="init" value="{!this}" action="{!c.doInit}"/>

  <!-- util event for navigation purposes -->
  <aura:handler event="c:SF1_NewOpportunityMobileUtilEvent" action="{!c.managePageRendering}"/>
  <!-- SF1_NewOpportunityMobileHome ==> Home Component -->
  <aura:if isTrue="{!v.showIntermediatePage}">
    <aura:if isTrue="{!v.showHome}">
      <c:SF1_NewOpportunityMobileHome
        receivedAccountID="{! v.receivedAccountID }"
        selectedContractIDs="{! v.selectedContractIDs }"
        accountDetails="{!v.accountDetails}"
        previousAccountId="{! v.previousAccountId }"
        withContractBL="{! v.showcheckFieldForWithContractBL }"
        withoutContractBL="{! v.showcheckFieldForWithoutContractBL }"/>
    </aura:if>

    <!--show SF1_NewOpportunityMobileWithContractBL Component when user selects this option -->
    <aura:if isTrue="{!v.showWithContractBL}">
      <c:SF1_NewOpportunityMobileWithContractBL accountDetails="{!v.accountDetails}" selectedContractIDs="{!v.selectedContractIDs}"/>
    </aura:if>

    <!--show SF1_NewOpportunityMobileWithoutContractBL Component when user selects this option -->
    <aura:if isTrue="{!v.showWithoutContractBL}">
      <c:SF1_NewOpportunityMobileWithoutContractBL accountDetails="{!v.accountDetails}" opptyTypes="{!v.opptyTypes}"/>
    </aura:if>

    <!--show SF1_NewOpportunityMobileWithContractBLOpenOppty Component based on contracts selected-->
    <aura:if isTrue="{!v.showOpenOpportunitiesWithBL}">
      <c:SF1_NewOpportunityMobileWithContractBLOpenOppty accountDetails="{!v.accountDetails}" selectedContractIDs="{!v.selectedContractIDs}" currencyMismatch="{! v.currencyMismatch }" oldCurrency="{! v.oldCurrency }"/>
    </aura:if>

    <!--show SF1_NewOpportunityMobileOpptyCreate Component when user opts to create new oppty from SF1_NewOpportunityMobileWithoutContractBL component-->
    <aura:if isTrue="{!v.showCreateOppty}">
      <c:SF1_NewOpportunityMobileOpptyCreate accountDetails="{!v.accountDetails}" selectedOppType="{!v.selectedOppType}"/>
    </aura:if>

    <aura:if isTrue="{!v.showCurrencySelection}">
      <c:SF1_NewOpportunityMobileCurrencySelection2 accountDetails="{!v.accountDetails}" selectedContractIDs="{!v.selectedContractIDs}" currencyMismatch="{! v.currencyMismatch }" oldCurrency="{! v.oldCurrency }" opptyTypes="{!v.opptyTypes}"/>
    </aura:if>
  </aura:if>
</aura:component>