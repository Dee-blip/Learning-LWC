<!--=====================================================================================================+
    Component name      :   SC_BP_EscalateCase
    Author              :   Vikas
    Created             :   24-Nov-2021
    Purpose             :   This is a component for Escalating/Closing Case and updating Big Panda Incident

	Last Modified 	Developer	Purpose            
    ============= 	=========	============ 
    24-Nov-21     	Vikas  		Initial Development
+=====================================================================================================-->
<aura:component implements="force:lightningQuickActionWithoutHeader,force:hasRecordId,force:hasSObjectName" access="global" controller="SC_BigPanda_Case_Modal_Ctrl">
    <aura:attribute name="spinner" type="Boolean" default="false"/>
    <aura:attribute name="recordId" type="String"/>
    <aura:attribute name="record" type="Object" />
    <aura:attribute name="simpleRecord" type="Object"/>
    <aura:attribute name="recordError" type="String" />
    <aura:attribute name="options" type="List" />
    <aura:attribute name="uniqueIdentifier" type="String"/>
    <aura:attribute name="caseObject" type="Object" /> 
    
    <force:recordData aura:id="recordEditor"
                      layoutType="FULL"
                      recordId="{!v.recordId}"
                      targetError="{!v.recordError}"
                      targetRecord="{!v.record}"
                      targetFields="{!v.simpleRecord}"
                      mode="EDIT" />

    <force:recordData aura:id="recordView"
                        recordId="{!v.recordId}"
                        fields="Status,Problem__c,Subject"
                        targetFields="{!v.caseObject}"                 
    />

    <aura:if isTrue="{!v.spinner}">
        <div aura:id="spinnerId" class="slds-spinner_container">
            <div class="slds-spinner--brand  slds-spinner slds-spinner--large slds-is-relative" role="alert">
                <span class="slds-assistive-text">Loading...</span>
                <div class="slds-spinner__dot-a"></div>
                <div class="slds-spinner__dot-b"></div>
            </div>
        </div>
    </aura:if>
    <header>
    	<div class="modal-header slds-modal__header attach-to-top">
            <h2 id="modal-heading-01" class="slds-text-heading_medium slds-hyphenate">Escalate/Close Case</h2>
        </div>
    </header>
    <div class="slds-modal__content slds-p-around_medium">
        <center>
            <!--<h2><b>Are you sure to Escalate the Case?</b></h2>
            <br/>-->
            <lightning:select name="Action" aura:id="actionId" onfocus="{!c.setValues}">
                <option value="">--Select--</option>
                <!--<option value="Escalate Case">Escalate Case</option>
                <option value="Close Case">Close Case</option>-->
                <aura:iteration items="{!v.options}" var="opt">
                    <option value="{!opt}" text="{!opt}"></option>
                </aura:iteration>
            </lightning:select>
        </center>
    </div>
    <footer>
        <div class="modal-footer slds-modal__footer attach-to-bottom">
            <button class="slds-button slds-button_neutral" onclick="{!c.closeEscalateCase}">Cancel</button>
            <button class="slds-button slds-button_brand" onclick="{!c.escalateCase}">Save</button>
        </div>
    </footer>
    
    <aura:html tag="style">
        .cuf-content {
            padding: 0 0rem !important;
        }
        .slds-p-around--medium {
            padding: 0rem !important;
        }       
        .slds-modal__content{
            overflow-y:hidden !important;
            height:unset !important;
            max-height:unset !important;
        }
    </aura:html>
</aura:component>