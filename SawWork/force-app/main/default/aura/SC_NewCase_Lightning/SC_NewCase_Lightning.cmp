<!--=====================================================================================================+
    Component name      :   SC_NewCase_Lightning.cmp 
    Author              :   Supreeth,Sumukh,Himanshu
    Created             :   10-Oct-18
    Purpose             :   For Overriding New button for Case Creation
                           
    Last Modified Developer           Purpose            
    ============= ========================  ======= 
    10-OCT-18     Supreeth,Sumukh,Himanshu  Initial Development(Jira Ticket# ESESP-1529)
    1-Feb-21      Bhavesh                   ESESP-4782, case creation page was not opening when 2nd time 'New case' button was clicked, as init gets called only once. 
+=====================================================================================================-->

<aura:component controller="SC_Case_LightningUtility" implements="lightning:hasPageReference,lightning:actionOverride,force:appHostable,flexipage:availableForAllPageTypes,flexipage:availableForRecordHome,force:hasRecordId,forceCommunity:availableForAllPageTypes,force:lightningQuickAction,lightning:isUrlAddressable" access="global">
    
    <!-- Variable which decides whether Custom RecordType Selection will be displyed or not-->
    <aura:attribute name="isRecTypeSelectionPageDisplay" type="boolean" default="false"/> 
    
    <!-- Variable to store the Parent Case Id when User clicks related Case from Case Detail Page-->
    <aura:attribute name="parentCaseIdFrmSubTab" type="string"/>
    
    <lightning:workspaceAPI aura:id="NewCaseworkspace"/>
    
    <!-- Method which will be automatically invoked on component Load -->
    <aura:handler name="init" value="{!this}" action="{!c.calculateLightningOverrideLogic}"/>
    <aura:handler name="change" value="{!v.pageReference}" action="{!c.calculateLightningOverrideLogic}"/><!-- Added By Bhavesh,ESESP-4782 -->

    <!-- Calling another Component for Recordtype Selection -->
    <aura:if isTrue="{!v.isRecTypeSelectionPageDisplay}">
        <c:SC_NewCase_Lightning_RecordTypeSelection />
    </aura:if>
    
</aura:component>