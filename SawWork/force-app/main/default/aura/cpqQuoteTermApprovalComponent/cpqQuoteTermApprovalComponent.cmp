<!--=====================================================================================================+
    Component name      :   cpqQuoteTermApprovalComponent.cmp 
    Author              :   shegade
    Since               :   04-JUN-20
    Purpose             :   To Approve/Reject Approval Detail through custom button.
                           
    Last Modified Developer           		Purpose            
    ============= ========================  ======= 
    04-JUN-20     shegade  				Initial Development(JIRA# CPQ-245)
+=====================================================================================================-->
<aura:component
  implements="lightning:isUrlAddressable"
  description="componet to approve or reject the Quote term requests"
>
  <aura:attribute name="actionType" type="String" />
  <aura:attribute name="adRecordId" type="Id"/>
  <aura:attribute name="adRecordTypeId" type="Id"/>

  <lightning:workspaceAPI aura:id="workspace" />
  <lightning:notificationsLibrary aura:id="notifLib"/>

  <aura:handler
    name="init"
    value="{!this}"
    action="{!c.onPageReferenceChange}"
  />

  <div class="slds-box slds-theme_default">
    <lightning:recordEditForm
      aura:id="adRecordForm"
      recordId="{!v.adRecordId}"
      recordTypeId="{!v.adRecordTypeId}"
      objectApiName="Approval_Details__c"
      density="comfy"
      onsubmit="{!c.handleSubmit}"
      onsuccess="{!c.handleSuccess}"
      onload="{!c.handleLoad}"
    >
      <lightning:messages />
      <div class="slds-hide">
        <lightning:outputField fieldName="Validation_Override_CPQ__c"/>
      </div>
      <lightning:outputField fieldName="Approval_Request__c" />
      <lightning:outputField fieldName="Approval_Status__c" />
      <lightning:outputField fieldName="CPQ_Quote__c" />
      <lightning:inputField fieldName="Approver_Notes__c" required='true' />
      <lightning:button
        aura:id="submitButton"
        class="slds-m-top_small"
        variant="{!v.actionType == 'Approve' ? 'brand' : 'destructive'}"
        type="submit"
        name="update"
        disabled="false"
        label="{!v.actionType}"
      />
    </lightning:recordEditForm>
  </div>
</aura:component>