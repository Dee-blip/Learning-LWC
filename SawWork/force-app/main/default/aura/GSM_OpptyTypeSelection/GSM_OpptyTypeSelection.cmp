<!-- 
* Created By: Vivek Baidya
* Created Date: 15-Oct-2018
* JIRA Ticket: SFDC-3715
* Description: Allow user to select Opportunity Type while opportunity creation based on with/without Contract Baseline.
-->
<aura:component implements="force:appHostable,flexipage:availableForAllPageTypes,flexipage:availableForRecordHome,force:hasRecordId,forceCommunity:availableForAllPageTypes,force:lightningQuickAction" access="global" >
    <aura:attribute name="opptyTypes" type="list"/>
    <aura:attribute name="doneLoading" type="Boolean" default="false" />
    <aura:attribute name="isContractChange" type="Boolean" default="false"/>
    <aura:handler event="c:onContractSelectionChange" action="{!c.handleContractChange}" />
    <aura:handler event="c:opportunityTypeChangeEvent" action="{!c.handleBaselineChange}" />
    <aura:handler event="c:SF1_NewOpportunityMobileUtilEvent" action="{!c.handleBaselineChangeMobile}"/>
    <aura:handler event="c:accountChangeEvent" action="{!c.handleAccountChange}" />
    <aura:registerEvent name="GSM_OpptyTypeChangeEvt" type="c:GSM_OpptyTypeChangeEvt"/>
    <aura:if isTrue="{!v.doneLoading}">
        <div>
            <div class="slds-form slds-form--inline">
                <fieldset class="slds-form-element">
                    <h3 class="{!!$Browser.isPhone ? 'slds-section__title slds-show' : 'slds-hide'}">Select Opportunity Type</h3>
                    <label class="{!$Browser.isPhone ? 'slds-form-element__label slds-show' : 'slds-hide'}">
                        <span style="color: red">*</span>
                        Opportunity Type
                    </label>
                    <div class="slds-form-element__control">
                        <span>
                            <lightning:select label="" onchange="{!c.typeChange}">
                                <aura:if isTrue="{!!v.isContractChange}">
                                	<option value="--None--">--None--</option>
                                </aura:if>
                                <aura:iteration items="{!v.opptyTypes}" var="type">
                                    <option text="{!type}" label="{!type}" />
                                </aura:iteration>
                            </lightning:select>
                        </span>
                    </div>
                </fieldset>    
            </div>
        </div>
    </aura:if>
</aura:component>