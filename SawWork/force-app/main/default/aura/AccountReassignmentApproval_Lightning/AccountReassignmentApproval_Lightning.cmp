<aura:component controller="SF1_AccountReassignment" implements="flexipage:availableForAllPageTypes,flexipage:availableForRecordHome,force:hasRecordId,force:appHostable" access="global">

  <aura:attribute name="object" type="string" default="Account_Reassignment__c"/>
  <aura:attribute name="fields" type="String" default="Id,Name"/>
  <aura:attribute name="sortedBy" type="string" default="Name"/>
  <aura:attribute name="sortedDirection" type="string" default="asc"/>
  <aura:attribute name="searchText" type="string"/>

  <aura:attribute name="myApprovalData" type="object"/>
  <aura:attribute name="myApprovalColumns" type="object"/>

  <aura:attribute name="delegatedApprovalData" type="object"/>
  <aura:attribute name="delegatedApprovalColumns" type="object"/>

  <aura:handler name="init" value="{!this}" action="{!c.init}"/>

  <lightning:card iconName="standard:account">

    <aura:set attribute="title">
      <strong>
        Account Reassignments to Approve
      </strong>
    </aura:set>

    <aura:set attribute="actions">
      <button type="button" class="slds-button slds-button_neutral" onclick="{! c.manageAll }">Manage All</button>
    </aura:set>

    <ui:message title="Note: " severity="info" closable="false">
      You can view only the Most Recently Submitted Approvals here. Click 'Manage All' button to access all the pending approvals
    </ui:message>

    <lightning:accordion aura:id="accordion">

      <lightning:accordionSection name="requiresMyApproval" label="Requires My Approval">

        <!-- <div class="slds-col_bump-left slds-text-align_right">
          <lightning:input placeholder="Search..." onchange="{! c.handleMyApprovalSearch }" name="inline-search-input" value="{! v.searchText }" label="Search" type="search" variant="label-hidden"/>
        </div> -->

        <aura:if isTrue="{! v.myApprovalData.length != 0 }">
          <br/>
          <!-- <div class="slds-box"> -->
          <div class="slds-scrollable_x" style="width: 100rem;">
            <div style='width:2000px;'>
              <lightning:datatable hideCheckboxColumn="true" data="{! v.myApprovalData }" columns="{! v.myApprovalColumns }" onsort="{!c.updateColumnSorting}" sortedBy="{!v.sortedBy}" sortedDirection="{!v.sortedDirection}" keyField="Id"/>
            </div>
          </div>

          <br/>
          <!-- </div> -->
          <aura:set attribute="else">
            No pending requests to display

          </aura:set>

        </aura:if>

      </lightning:accordionSection>

      <lightning:accordionSection name="requiresDelegatedApproval" label="Requires Delegated Approval">

        <aura:if isTrue="{! v.delegatedApprovalData.length != 0 }">
          <br/>
          <div class="slds-scrollable_x" style="width: 100rem;">
            <div style='width:2000px;'>
              <lightning:datatable hideCheckboxColumn="true"
                data="{! v.delegatedApprovalData }"
                columns="{! v.delegatedApprovalColumns }"
                onsort="{!c.updateColumnSorting}"
                sortedBy="{!v.sortedBy}"
                sortedDirection="{!v.sortedDirection}"
                onrowselection="{!c.getSelectedName}"
                keyField="Id"/>
            </div>
          </div>

          <br/>
          <aura:set attribute="else">
            No delegated pending requests to display
          </aura:set>

        </aura:if>

      </lightning:accordionSection>

    </lightning:accordion>

  </lightning:card>

</aura:component>