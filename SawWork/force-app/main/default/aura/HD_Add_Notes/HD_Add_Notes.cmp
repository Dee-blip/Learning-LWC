<aura:component implements="flexipage:availableForAllPageTypes,force:hasRecordId" access="global" controller="HD_IncidentDetailController">
    <aura:registerEvent name="HDLogger" type="c:HDLogger"/>
	<ltng:require scripts="{!$Resource.HD_Error_Logger}" /> 
    
    <aura:attribute name="rerender" type="boolean" />
    <aura:attribute name="recordId" type="Id" />
    <aura:attribute name="incident" type="BMCServiceDesk__Incident__c" />
    <aura:attribute name="shownote" type="Boolean" default="true"/>
    <aura:attribute name="hidedive" type="Boolean" default="false"/>
    <aura:attribute name="errorCount" type="integer" default="1"/>
    
     <aura:handler name="init" action="{!c.doInit}" value="{!this}" />
     <aura:handler event="force:refreshView" action="{!c.doInit}" value="{!this}"/>
    <aura:if isTrue="{!v.shownote}">

    <div class="shadow" id='Note_Div' style="display:true">
                 <div aura:id="AN_div" class="slds-p-bottom--small slds-m-top--none " onclick="" id = "nt-div">
               
             <div class="tstxt_box slds-section-title--divider custom-title slds-border--left slds-border--right slds-border--top tstxt_box" >
                    <lightning:icon iconName="action:new_notebook" size="xx-small" />
                    Internal Note
                    <span aura:id="a_msg_spinner" id="msg_spinner"  class="slds-hide"> &nbsp;&nbsp;<img src="{!$Resource.HDSpinner}" style="width:20px;height:20px;"/>
</span>
                    
                    <span aura:id="a_msg_space" id='msg_space' class="slds-hide" style="text-transform : none;padding-left:20px;"> 
                         <span id="msg_descr" aura:id="a_msg_descr"></span>
                          
                     </span>
                      <span class="slds-float--right">
                       <label class="slds-form-element__label" for="effortInput" style="text-transform : none">Time Spent : </label> 
                       <!-- input id="timespent_hh" aura:id="a_timespent_hh" type="number" placeholder="HH" size="2" min="0" max="1"/>:<input id="timespent_mm" aura:id="a_timespent_mm" type="number" placeholder="MM" size="2" min="0" max="59"/ -->
                       *<input id="timespent" aura:id="a_timespent_hh" type="text" size="7" placeholder="Minutes" />
                        &nbsp;&nbsp;
                       <button id='note_button' disabled="true" class="slds-button slds-button--neutral " onclick="{!c.submitnote}" > Save
                       </button>
                    </span>
                 
                 </div>
                 <div id='msg_div' class="tstxt_box  slds-border--left slds-border--right " style="background:#F4F6F9;padding-left:15px;">
                 </div>
                     
                 <div class="slds-form-element__control"  >
                   <textarea id="free_note" aura:id="a_free_note" class="slds-textarea" placeholder="Add internal note not visible to customer" onkeyup="{!c.countnotechar }" onkeydown ="{!c.tabhandler}" rows="5" maxlength="2000"></textarea>
                </div>
                <div style="margin-top:-5px;text-align:right;">
                     <span id='char_count_msg' class="slds-border--left slds-border--right slds-border--bottom" style="background:#F4F6F9;border-radius:3px;border-bottom-left-radius:9px;color:#54698D;">&nbsp;&nbsp;2000 characters left&nbsp;&nbsp;</span>
                 </div>     
                     
         </div>
        
       
    </div>
        
</aura:if>

</aura:component>