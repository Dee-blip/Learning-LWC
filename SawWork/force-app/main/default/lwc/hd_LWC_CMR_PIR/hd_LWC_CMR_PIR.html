<template>
    <div class="slds-is-relative">
        <lightning-spinner if:true={isLoading}></lightning-spinner>
        <lightning-record-edit-form object-api-name="Change_Review__c" onload={onFormLoaded}
            onerror={onRecordSaveError} onsuccess={onRecordSaved} density="comfy">
            <lightning-messages>
            </lightning-messages>
            <div class="slds-grid slds-grid_vertical">
                <div class="slds-hide">
                    <lightning-input-field field-name="Change_Request__c" value={parentChange}>
                    </lightning-input-field>
                  </div>
                <div class="slds-col">
                  <span>
                    <div class="slds-grid slds-gutters">
                      <div class="slds-col slds-size_6-of-12">
                        <span>
                            <lightning-input-field field-name="required_results_delivered__c" required>
                            </lightning-input-field>
                        </span>
                      </div>
                      <div class="slds-col slds-size_6-of-12">
                        <span>
                            <lightning-input-field field-name="Unaccounted_Impact_On_Services__c" required>
                            </lightning-input-field>
                        </span>
                      </div>
                    </div>
                  </span>
                </div>
                <div class="slds-col">
                  <span>
                    <div class="slds-grid slds-gutters">
                      <div class="slds-col slds-size_6-of-12">
                        <span>
                            <lightning-input-field field-name="Was_the_change_implemented_as_planned__c" required>
                            </lightning-input-field>
                        </span>
                      </div>
                      <div class="slds-col slds-size_6-of-12">
                        <span>
                            <lightning-input-field field-name="Details_of_implementation_window_varied__c" required>
                            </lightning-input-field>
                        </span>
                      </div>
                    </div>
                  </span>
                </div>
                <div class="slds-col slds-size_6-of-12">
                  <span>
                     <lightning-input-field field-name="Additional_lessons_learnt__c" required>
                     </lightning-input-field>
                  </span>
                </div>
                <div class="slds-col slds-size_6-of-12">
                    <span>
                       <lightning-input-field field-name="Post_Implementation_Testing_Completed__c">
                       </lightning-input-field>
                    </span>
                  </div>
                  <div class="slds-col slds-size_6-of-12">
                    <span>
                       <lightning-input-field field-name="Post_Implementation_Test_Details__c">
                       </lightning-input-field>
                    </span>
                  </div>
              </div>
        </lightning-record-edit-form>
        <div 
            class="slds-modal__footer slds-border_top slds-p-top_small slds-text-align_center slds-m-top_small footerStyle">
            <lightning-button class="slds-m-right_small" type="submit" name="Save" label="Save" onclick={handleSubmit}>
            </lightning-button>
            <lightning-button type="cancel" name="Cancel" label="Cancel" onclick={handleCancel}>
            </lightning-button>
        </div>
    </div>
</template>