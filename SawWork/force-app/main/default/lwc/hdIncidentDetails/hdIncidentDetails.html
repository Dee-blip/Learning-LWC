<template>
    <div class="slds-panel">
        <lightning-spinner if:true={isLoading} variant="brand" size="medium" data-id="spinner"></lightning-spinner>
        <lightning-record-view-form density="comfy" record-id={recordId} object-api-name="BMCServiceDesk__Incident__c">
            <div
                class="slds-card__body slds-card__body_inner slds-m-top_small slds-m-bottom_xxx-small slds-p-horizontal_medium">

                <template if:true={isIncident}>
                    <div class="slds-page-header__row slds-theme_shade slds-m-top_x-small slds-m-bottom_x-small"
                        style="border-radius: 10px;">
                        <div class="slds-page-header__col-details">
                            <div class="slds-media slds-media_center">
                                <lightning-button-stateful icon-name-when-off="utility:chevronright"
                                    icon-name-when-on="utility:chevrondown" variant="text" selected={showDescription}
                                    onclick={handleDescriptionChevron}>
                                </lightning-button-stateful>
                                <div class="slds-media__figure slds-p-around_xx-small">
                                    <lightning-icon icon-name="action:description" size="x-small"
                                        alternative-text="Info" title="Information">
                                    </lightning-icon>
                                </div>
                                <div class="slds-media__body">
                                    <div class="slds-page-header__name">
                                        <h2>
                                            <span class="slds-truncate accordionTitle">
                                                {srType} Description
                                            </span>
                                        </h2>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <template if:true={showDescription}>
                        <lightning-layout class="page-section slds-m-top_xx-small slds-m-bottom_x-small">
                            <lightning-layout-item class="slds-p-left_x-small" size="12">
                                <lightning-output-field field-name="BMCServiceDesk__shortDescription__c">
                                </lightning-output-field>
                                <hr class="slds-m-top_small slds-m-bottom_x-small slds-m-right_x-small" />
                                <lightning-output-field field-name="BMCServiceDesk__incidentDescription__c">
                                </lightning-output-field>
                            </lightning-layout-item>
                        </lightning-layout>
                    </template>
                </template>
                <template if:true={isResolution}>
                    <div class="slds-page-header__row slds-theme_shade slds-m-top_x-small slds-m-bottom_x-small"
                        style="border-radius: 10px;">
                        <div class="slds-page-header__col-details">
                            <div class="slds-media slds-media_center">
                                <lightning-button-stateful icon-name-when-off="utility:chevronright"
                                    icon-name-when-on="utility:chevrondown" variant="text" selected={showResolution}
                                    onclick={handleResolutionChevron}>
                                </lightning-button-stateful>
                                <div class="slds-media__figure slds-p-around_xx-small">
                                    <lightning-icon icon-name="action:update_status" size="x-small"
                                        alternative-text="Info" title="Information">
                                    </lightning-icon>
                                </div>
                                <div class="slds-media__body">
                                    <div class="slds-page-header__name">
                                        <h2>
                                            <span class="slds-truncate accordionTitle">
                                                {srType} Resolution
                                            </span>
                                        </h2>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <template if:true={showResolution}>
                        <lightning-layout class="page-section slds-m-top_xx-small slds-m-bottom_x-small">
                            <lightning-layout-item class="slds-p-left_x-small" size="12">
                                <lightning-output-field field-name="BMCServiceDesk__incidentResolution__c">
                                </lightning-output-field>
                            </lightning-layout-item>
                        </lightning-layout>
                    </template>
                </template>
            </div>
        </lightning-record-view-form>
    </div>
</template>