<template>
    <lightning-spinner if:true={isLoading} variant="brand" size="medium" data-id="spinner"></lightning-spinner>
    <div class="slds-clearfix">
        <h3 class="slds-float_left slds-p-bottom_small">
            <lightning-input type="toggle" label="Override default approval" data-id="toggleButton"
                message-toggle-active="" onchange={handleCheckboxChange} message-toggle-inactive=""></lightning-input>
        </h3>
        <lightning-helptext icon-name="utility:info" class="slds-p-left_small" content={helpText}>
        </lightning-helptext>
    </div>
    <lightning-record-edit-form if:false={isReadOnly} onsuccess={handleSuccess} onload={onFormLoaded}
        record-id={recordId} object-api-name="BMCServiceDesk__Incident__c">
        <lightning-layout multiple-rows>
            <lightning-layout-item size="6">
                <lightning-input-field field-name="Approver__c">
                </lightning-input-field>
            </lightning-layout-item>
            <lightning-layout-item size="6">
                <lightning-input-field field-name="Approver_II__c">
                </lightning-input-field>
            </lightning-layout-item>
            <lightning-layout-item size="12">
                <div class="slds-m-top_small slds-p-top_small slds-border_top">
                </div>
            </lightning-layout-item>
            <lightning-layout-item size="6" style="text-align: center;">
                <lightning-button type="submit" label="Submit for Approval" icon-name="utility:approval"
                    disabled={isSubmitDisabled} onclick={onSubmitClicked}>
                </lightning-button>
            </lightning-layout-item>

            <lightning-layout-item size="6" style="text-align: center;">
                <lightning-button label="Recall Approval" disabled={isRecallDisabled} icon-name="utility:close"
                    onclick={onRecallClicked}>
                </lightning-button>
            </lightning-layout-item>
        </lightning-layout>
        <!-- </div> -->
    </lightning-record-edit-form>
    <lightning-record-view-form if:true={isReadOnly} record-id={recordId} object-api-name="BMCServiceDesk__Incident__c"
        data-id="form">
        <lightning-layout multiple-rows>
            <lightning-layout-item size="6">
                <lightning-output-field field-name="Approver__c" data-id="Approver1">
                </lightning-output-field>
            </lightning-layout-item>
            <lightning-layout-item size="6">
                <lightning-output-field field-name="Approver_II__c" data-id="Approver2">
                </lightning-output-field>
            </lightning-layout-item>
            <lightning-layout-item size="12">
                <div class="slds-m-top_small slds-p-top_small slds-border_top">
                </div>
            </lightning-layout-item>
            <lightning-layout-item size="6" style="text-align: center;">
                <lightning-button type="submit" label="Submit for Approval" icon-name="utility:approval"
                    disabled={isSubmitDisabled} onclick={onSubmitClicked}>
                </lightning-button>
            </lightning-layout-item>
            <lightning-layout-item size="6" style="text-align: center;">
                <lightning-button label="Recall Approval" disabled={isRecallDisabled} icon-name="utility:close"
                    onclick={onRecallClicked}>
                </lightning-button>
            </lightning-layout-item>
        </lightning-layout>
    </lightning-record-view-form>
</template>