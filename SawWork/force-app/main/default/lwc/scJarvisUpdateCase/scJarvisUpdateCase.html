<template>
        <section role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" aria-modal="true" aria-describedby="modal-content-id-1" class={modalClass}>
        <div class="slds-modal__container">
            <!-- Modal/Popup Box LWC header here -->
            <header class="slds-modal__header">
                <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick={closeModal}>
                    <lightning-icon icon-name="utility:close"
                        alternative-text="close"
                        variant="inverse"
                        size="small" ></lightning-icon>
                    <span class="slds-assistive-text">Close</span>
                </button>
                <h2 id="modal-heading-01" class={showConfirmClassHeader}>{labels.MODAL_ERROR_HEADER}</h2>
                <h2 id="modal-heading-02" class={recordEditFormHeader}>{labels.UPDATE_HEADER}</h2>                    
            </header>
            <div>
                <template if:true={loadSpinner}>
                    <div style="opacity: 0.7;" class="slds-spinner_container">
                        <lightning-spinner alternative-text="Loading" variant="brand" size="medium">
                        </lightning-spinner>
                    </div>
                </template>
            </div>

            <!-- Modal/Popup Box LWC body starts here -->
            <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-1">
                    <lightning-formatted-rich-text class={showConfirmClass} value={warningMessage}></lightning-formatted-rich-text>
                    <lightning-record-edit-form record-id={caserecordid} class={recordEditForm} object-api-name="Case" onsubmit={submitMethod} onsuccess={handleSucess} onerror={handleError}>
                        <lightning-input-field variant="label-hidden" field-name="AccountId" data-field="Account" class="Account slds-hide" >                                
                        </lightning-input-field>

                        <lightning-layout class="slds-p-left_medium slds-p-right_medium">
                            <lightning-layout-item size="5"> 
                                <label class="slds-form-element__label slds-no-flex labelStyle">{labels.ALTERNATE_CONTACT_NAME}</label>     
                                <lightning-input-field variant="label-hidden" field-name="Alternate_Contact_Name__c" data-field="Alternate_Contact_Name__c" data-id="Alternate_Contact_Name__c" onchange={onFieldChange}>                                
                                </lightning-input-field>
                                    
                            </lightning-layout-item>    
                            
                            <lightning-layout-item size="2"> 
                            </lightning-layout-item>   
                            <lightning-layout-item size="5"> 
                                <label class="slds-form-element__label slds-no-flex labelStyle">{labels.ALTERNATE_CONTACT_EMAIL}</label>     
                                <lightning-input-field variant="label-hidden" field-name="Alternate_Contact_Email__c" data-field="Alternate_Contact_Email__c" data-id="Alternate_Contact_Email__c" class="Alternate_Contact_Email__c" onchange={onFieldChange}>
                                </lightning-input-field>
                                <template if:true={showAlternateEmailValidation}>
                                    <div aria-live="assertive" class="slds-form-element__help redColor">
                                        {alternateEmailMessage}
                                    </div>    
                                </template>
                                
                            </lightning-layout-item>    

                        </lightning-layout>

                        <lightning-layout class="slds-p-left_medium slds-p-right_medium">
                            <lightning-layout-item size="5"> 
                                <label class="slds-form-element__label slds-no-flex labelStyle">{labels.ALTERNATE_CONTACT_PHONE}</label>     
                                <lightning-input-field variant="label-hidden" field-name="Alternate_Contact_Phone__c" data-field="Alternate_Contact_Phone__c" data-id="Alternate_Contact_Phone__c" onchange={onFieldChange}>
                                </lightning-input-field>
                                    
                            </lightning-layout-item>    
                            <lightning-layout-item size="2"> 
                            </lightning-layout-item>   

                            <lightning-layout-item size="5"> 
                                <label class="slds-form-element__label slds-no-flex labelStyle">{labels.ALTERNATE_CONTACT_COMPANY}</label>     
                                <lightning-input-field variant="label-hidden" field-name="Alternate_Contact_Company__c" data-field="Alternate_Contact_Company__c" data-id="Alternate_Contact_Company__c" onchange={onFieldChange}>                                
                                </lightning-input-field>
                                    
                            </lightning-layout-item>    
                        </lightning-layout>

                        <lightning-layout class="slds-p-left_medium slds-p-right_medium">
                                <lightning-layout-item size="12"> 
                                    <label class="slds-form-element__label slds-no-flex labelStyle">{labels.ALSO_NOTIFY}</label> 
                                    <lightning-helptext content={labels.ALSO_NOTIFY_TEXT}></lightning-helptext>
                                    <lightning-input-field variant="label-hidden" field-name="Jarvis_Also_Notify__c" class="Jarvis_Also_Notify__c" data-field="Jarvis_Also_Notify__c" data-id="Jarvis_Also_Notify__c" onchange={onFieldChange}>                                
                                    </lightning-input-field>
                                    <template if:true={showValidation}>
                                        <div aria-live="assertive" class="slds-form-element__help redColor">
                                            {validEmailMessage}
                                        </div>    
                                    </template>

                            </lightning-layout-item>    

                        </lightning-layout>
              
                        <input type="submit" class="hiddenButton hidden"/>                                            

                     </lightning-record-edit-form>  

            </div>
            <!-- Modal/Popup Box LWC footer starts here -->
            <footer class="slds-modal__footer">
                    <button class={recordEditFormButtonCancel} onclick={closeModal} title={labels.BUTTON_CANCEL}>{labels.BUTTON_CANCEL}</button>                
                    <button class={recordEditFormButtonConfirm} onclick={validateForm} title={labels.BUTTON_UPDATE}>{labels.BUTTON_UPDATE}</button>                        

                    <button class={showConfirmClassbuttonCancel} onclick={closeConfirmModal} title={labels.BUTTON_CANCEL}>{labels.BUTTON_CANCEL}</button>                
                    <button class={showConfirmClassbuttonConfirm} onclick={callUpdate} title={labels.BUTTON_CONFIRM}>{labels.BUTTON_CONFIRM}</button>
                
            </footer>
        </div>
    </section>
    <div class="slds-backdrop slds-backdrop_open"></div>    
</template>