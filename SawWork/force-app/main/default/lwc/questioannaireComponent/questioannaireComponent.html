<template>
    <div class="slds-grid slds-wrap">
        <template if:true={previewmode}>
            <div class="slds-col slds-size_12-of-12">
                <template if:true={showIllustration}>
                    <lightning-card>
                        <c-lwc-illustrations 
                            small-illutration = false
                            illustrations-heading="Nothing here!" 
                            illustrations-text="Questionnaire not configured for this product.">
                        </c-lwc-illustrations>
                    </lightning-card>
                </template>
                <template if:false={showIllustration}>
                    <template for:each={mapSectionKeyToQuestions} for:item="mapkey" for:index="index">
                        <div key={mapkey.key} class="slds-col slds-size_12-of-12 slds-p-left_small slds-p-right_small slds-p-top_x-small slds-p-bottom_x-small">
                            <c-questionnaire-section-component 
                                class="questionSectionComponent"
                                data-id={mapkey.key} 
                                section={mapkey.key} 
                                questions={mapkey.value}
                                stage={stage}
                                chimeid={chimeid}
                                previewmode={previewmode}
                                chime-stage={chimeStage} chime-status={chimeStatus}
                                response-disable={responseDisable}>
                            </c-questionnaire-section-component>
                        </div>
                    </template>
                </template>
            </div>
        </template>

        <template if:false={previewmode}>
            <div class="slds-col slds-size_12-of-12">
                <c-l2q-chime-admin-header productid={productid}></c-l2q-chime-admin-header>
            </div>
            <div class="slds-col slds-size_9-of-12">
                <template if:true={showIllustration}>
                    <lightning-card>
                        <c-lwc-illustrations 
                            small-illutration = false
                            illustrations-heading="Lets start afresh" 
                            illustrations-text="Add some sections and then questions to sections from right hard side toolkit">
                        </c-lwc-illustrations>
                    </lightning-card>
                </template>
                <template if:false={showIllustration}>
                    <template for:each={mapSectionKeyToQuestions} for:item="mapkey" for:index="index">
                        <div key={mapkey.key} class="questionRecord slds-col slds-size_12-of-12 slds-p-left_small slds-p-right_small slds-p-top_x-small slds-p-bottom_x-small">
                            <c-questionnaire-section-component 
                                data-id={mapkey.key} 
                                class="questionsection"
                                section={mapkey.key} 
                                productid={productid}
                                stage={stage}
                                chimeid={chimeid}
                                questions={mapkey.value}
                                previewmode={previewmode}
                                fromadmin={fromadmin} >
                            </c-questionnaire-section-component>
                        </div>
                    </template>
                </template>
            </div>
        </template>
            
        <template if:false={previewmode}>
            <div class="slds-col s1FixedTop slds-size_3-of-12 slds-p-left_small slds-p-right_small slds-p-top_x-small">
                <c-questionnaire-toolkit 
                    sections={sections}
                    productid={productid}
                    oncreatequestion={handleQuestionCreation}
                    oncreatesection={handleSectionCreation}
                    onpublishall={handlePublish}
                >
                </c-questionnaire-toolkit>
            </div>
        </template>
        
    </div>

</template>