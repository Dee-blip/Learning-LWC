<template>
    <template if:true={showTable}>
        <lightning-card>

                            <lightning-layout-item size="12" margin="around-small">
                                <div class="slds-grid slds-m-top_medium" >
                                    <div class="slds-col slds-size_1-of-6 " style="justify-content:center;align-content:center;padding-left:20px;">
                                        <lightning-input name="toggle"
                                        label="Select / De-select all"
                                        type="toggle"
                                        message-toggle-active=""
                                        message-toggle-inactive=""
                                        
                                        onchange={handleToggleChange}></lightning-input>
                                    </div>
                                    <div class="slds-col slds-size_1-of-6" style="justify-content:center;align-content:center">
                                        <div style="font-size:15;font-weight:600">Total No. of Records : {count}</div>
                                    
                                        
                                    </div>
                                    <div class="slds-col slds-size_3-of-6" style="justify-content:center;align-content:center;margin-top:-15px">
                                        <div onkeypress={keycheck} style="margin-bottom:5px;width:500px;">
                                            <lightning-input type="text" placeholder="Type search String and press Enter..." name="searchAllIncidents" onblur={handleSearch} class="slds-align__absolute-center"></lightning-input>
                                        </div>
                                    </div>
                                    <div class="slds-col slds-size_1-of-6" style="justify-content:center;align-content:center">
                                        <span><!--<lightning-button variant="brand" label={showIconHelpText} title="Send Emails" onclick={handSendEmailConfirmation}></lightning-button>-->
                                            <button style="margin-left:-100px;" class="slds-button slds-button_brand" onclick={handDisableConfirmation}>{getDisableButtonTitle}</button></span>
                                        <span class="slds-m-left_large"><lightning-button variant="brand" label="Cancel" title="Cancel" onclick={handleCancel}></lightning-button></span>
                                    </div>
                                </div>
                               <!-- <div class="slds-align_absolute-center" style="margin-top:-25px;margin-bottom:-10px;">
                                    
                                    
                                    <span class="slds-float_right" style="margin-left:300px;">
                                        <lightning-button variant="brand" label="Send Emails" title="Send Emails" onclick={handleSendEmail}></lightning-button>
                                    </span>
                                </div>-->
                            </lightning-layout-item>        
                            <template if:true={showDataTable}>
                           <!-- <lightning-datatable
									
									key-field="Id"
									data={currentPageDataAllIncident}
									
									columns={columns}
									onsort={updateColumnSortingAllIncidentsSection}
                                	sorted-by={sortByAllIncidentsSection}
                                	sorted-direction={sortDirectionAllIncidentsSection}
                                    
                                    onrowselection={getSelectedName}
                                    selected-rows={preSelectedRows}
                                ></lightning-datatable> -->

                                <c-sc-p-s-custom-data-type
									
									key-field="Id"
									data={currentPageDataAllIncident}
									hide-checkbox-column
									columns={columns}
									onsort={updateColumnSortingAllIncidentsSection}
                                	sorted-by={sortByAllIncidentsSection}
                                	sorted-direction={sortDirectionAllIncidentsSection}
                                    
                                    
                                    selected-rows={preSelectedRows}
                                    onhandleupdatereasonevent={handleUpdateDisableReason}
                                    onhandlecheckevent={handleCheckingRow}
                                    onhandleuncheckevent={handleUnCheckingRow}
                                    

                                ></c-sc-p-s-custom-data-type> 
                            </template>    


                                <lightning-layout-item size="12" margin="around-small">
                                    <div class="slds-align_absolute-center slds-m-top_medium">
                                       <ul class="slds-button-group-row">
                                         <template if:true={hasPrevAllIncident}>
                                             <li class="slds-button-group-item prevAllIncidentSection" >
                                                <lightning-button variant ="neutral" label="Prev" name="prevAllIncident" onclick={onPrev}></lightning-button>
                                            </li>
                                         </template>
                                         <template if:true={arePagesMoreThanOneAllIncidentSection}>
                                          <template for:each={pagesListAllIncident} for:item= "pageNumber">
                                             <li class="slds-button-group-item pageButtonsAllIncident" key={pageNumber}>
                                                <lightning-button variant ="neutral" label={pageNumber} name="allIncidentPageButton" onclick={onPageClick}></lightning-button>
                                                
                                             </li>
                                          </template>
                                         </template> 
                                         <template if:true={hasNextAllIncident}>
                                             <li class="slds-button-group-item nextAllIncident" >
                                                <lightning-button variant ="neutral" label="Next" name="nextAllIncident" onclick={onNext}></lightning-button>
                                                
                                             </li>
                                         </template>
                                       </ul>
                                       <template if:true={arePagesMoreThanOneAllIncidentSection}>
                                        <span style="margin-left:15px;font-size:15px;color:#1876F2;">Page {pageAllIncident} of {pagesAllIncident.length}</span>
                                        </template>
                                    </div>
                                </lightning-layout-item>
                            </lightning-card>                        
                                
                                
    </template>

    <template if:true={showDLCreatePopUp}>
        <section role="dialog" tabindex="-1" aria-labelledby="modal-heading-02" aria-modal="true" aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open">
			<div class="slds-modal__container">
				<header class="slds-modal__header">
					<button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close">
						<svg class="slds-button__icon slds-button__icon_large" aria-hidden="true">
							<use xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#close"></use>
						</svg>
						<span class="slds-assistive-text">Close</span>
					</button>
					<h2 id="modal-heading-04" class="slds-modal__title slds-hyphenate">Create PS Automation Manage Recipient Record</h2>
				</header>
				<div class="slds-modal__content slds-p-around_medium" id="modal-content-id-3">
                    <div class="slds-card slds-m-vertical_large slds-page-header slds-align--absolute-center"
	style="height: auto;padding-top: 10px;background-color:bisque">
	<div class="slds-grid slds-gutters">
		<header class="slds-media slds-media_center slds-has-flexi-truncate">
			

			<div class="slds-media__figure slds-col slds-size_1-of-5">

				<ul class="slds-list_horizontal slds-media_center">
					
					
					<li>
						<div class="slds-media__body">
							<div class="slds-page-header__name">
								<div class="slds-page-header__name-title">
									<h3>
										<span class="slds-text-heading_small slds-truncate"><b>Please enter valid email ids separted by (,) if multiple.</b></span>
									</h3>
								</div>
							</div>
							<!--<p class="slds-page-header__name-meta">Updated <lightning-relative-date-time
									value={now}></lightning-relative-date-time>
							</p>-->
						</div>

					</li>
				</ul>
			</div>


			
		
			
		</header>
	</div>
	</div>
					
					<div class="slds-grid slds-m-bottom_medium">
                        <div class="slds-col slds-m-horizomtal_large">
                            <span class="slds-field-element__label slds-m-right_medium">Account Name : </span>
                            <span class="slds-m-right_medium"><a onclick={handleOpenAcc}>{toCreateAccountName}</a></span>
                            <!--<lightning-formatted-url label={toCreateAccountName} onclick={handleOpenAcc}></lightning-formatted-url>-->
                         <!-- <div style="font-size:15px;font-weight:500;">Account Name : <a onclick={handleOpenAcc}>{toCreateAccountName}</a></div>-->
                         <div class="slds-m-top_medium slds-m-right_medium"><lightning-input label="Name" class="name"></lightning-input></div>
                        </div>
                        <div class="slds-col slds-m-horizomtal_large">
                            <span class="slds-field-element__label slds-m-left_medium">Record Type : </span>
                           <span class="slds-m-left_medium"><lightning-formatted-text value="External"></lightning-formatted-text></span>
                            <!--<div style="font-size:15px;font-weight:500;"> Record Type : External</div>-->
                           <div class="slds-m-top_medium slds-m-left_medium"> <lightning-textarea required class="recipients" label="Configure Recipient Emails"  ></lightning-textarea></div>
                        </div>
                        
                      
						
                    </div>
                    
                    
					
					
						
					
				</div>
				<footer class="slds-modal__footer">
                    <button class="slds-button slds-button_brand" onclick={handleCreatePopUpCancel}>Close</button>
                    <button class="slds-button slds-button_brand" onclick={handleCreateDL}>Create</button>
				</footer>
			</div>
		</section>
		<div class="slds-backdrop slds-backdrop_open"></div>
    </template>


    <template if:true={showConfirmPopup}>
        <section role="dialog" tabindex="-1" aria-labelledby="modal-heading-02" aria-modal="true" aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open">
			<div class="slds-modal__container">
				<header class="slds-modal__header">
					<button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close">
						<svg class="slds-button__icon slds-button__icon_large" aria-hidden="true">
							<use xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#close"></use>
						</svg>
						<span class="slds-assistive-text">Close</span>
					</button>
					<h2 id="modal-heading-05" class="slds-modal__title slds-hyphenate">Confirmation for disabling Customer Mailers</h2>
				</header>
				<div class="slds-modal__content slds-p-around_medium" id="modal-content-id-4">
                    Please confirm to disable these customer mailers :<br/> <br/>
                    <template for:each={preSelectedRowsName} for:item="itrSelectedMailerName">
                        {itrSelectedMailerName} ,
                    </template>
					
					
                    
                    
					
					
						
					
				</div>
				<footer class="slds-modal__footer">
                    <button class="slds-button slds-button_brand" onclick={handleCancelForConfirm}>Cancel</button>
                    <button class="slds-button slds-button_brand" onclick={handleDisableMailers}>Disable selected Customer Mailer</button>
				</footer>
			</div>
		</section>
		<div class="slds-backdrop slds-backdrop_open"></div>
    </template>

    </template>
                                
    </template>