<apex:page standardController="User" extensions="TSAgentIdExtension" sidebar="false" standardStylesheets="true" showHeader="false">
    <head>
        <apex:includeScript value="{!URLFOR($Resource.JQuery111, 'jquery-1.11.2/dist/jquery.min.js')}"/>
        <apex:includeScript value="{!URLFOR($Resource.JQueryUI111, 'jquery-ui.min.js')}"/>
        
        <apex:includeScript value="{!URLFOR($Resource.bootstrap3, 'dist/js/bootstrap.js')}"/>
        <apex:includeScript value="{!URLFOR($Resource.bootstrap3, 'dist/js/bootstrap.min.js')}"/>
        
        <apex:stylesheet value="{!URLFOR($Resource.bootstrap3, 'dist/css/bootstrap.css')}"/>
        <apex:stylesheet value="{!URLFOR($Resource.bootstrap3, 'dist/css/bootstrap.min.css')}"/>
        
        <apex:stylesheet value="{!URLFOR($Resource.jQueryDataTablesZip, 'jQueryDataTables/css/jquery.dataTables.css')}"/>
    
        <script type="text/javascript">
            function closeWin(){            
                var successElement = document.getElementById('{!$Component.form.success}');
                if(successElement.value=='true') {
                    if(window.parent){
                        window.parent.opener.location.href = window.parent.opener.location.href;
                        window.parent.close();
                        window.close();
                    }   
                    else{
                        window.opener.location.href = window.opener.location.href;
                        window.close();   
                    }   
                }
            }
        </script>
        <style>
           .textsize {font-size: 9pt;}
        </style>
        </head>
        <body class="textsize">
            <div class="container-fluid">
                <apex:form id="form">
                    <apex:pageMessages id="msgQ"/>
                    <apex:pageBlock >
                        <apex:pageBlockSection columns="1" title="ACD Agent ID" collapsible="false">
                            <apex:pageblockSectionItem >
                                <apex:outputLabel >User Name</apex:outputLabel> 
                                <apex:outputText value="{!User.Name}"/>
                            </apex:pageblockSectionItem>
                            <apex:inputField value="{!User.ACD_Agent_ID__c}"/>           
                        </apex:pageBlockSection>
                    </apex:pageBlock>
                    <apex:panelGrid columns="2" style="margin-left:auto; margin-right:auto">
                        <apex:inputHidden id="success" value="{!success}"/><br/>
                        <apex:commandButton value="Save" action="{!save}" onComplete="closeWin();" styleClass="btn btn-default" reRender="success,msgQ"/>
                        <apex:commandButton value="Cancel" onClick="window.close();"  styleClass="btn btn-default" immediate="true"/>
                    </apex:panelGrid> 
                </apex:form>
            </div>
        </body>
</apex:page>