<apex:page standardController="Close_Plan__c"
           showHeader="false"
           sidebar="false"
           extensions="ClosePlanDetailController">
    
    <script type="text/javascript">
    window.onload = function () {
        setRenderClosePlanPageJS();
        setTimeout(function () {
            refreshCurrentPageJS();
        },1000);
    };
    </script>
    
    <style type="text/css">
        .loader {
        position: absolute;
        top: 45%;
        left: 45%;
        border: 16px solid #f3f3f3;
        border-radius: 50%;
        border-top: 16px solid #3498db;
        width: 120px;
        height: 120px;
        -webkit-animation: spin 2s linear infinite;
        /* Safari */
        animation: spin 2s linear infinite;
        }
        
        /* Safari */
        @-webkit-keyframes spin {
        0% {
        -webkit-transform: rotate(0deg);
        }
        100% {
        -webkit-transform: rotate(360deg);
        }
        }
        @keyframes spin {
        0% {
        transform: rotate(0deg);
        }
        100% {
        transform: rotate(360deg);
        }
        }
    </style>
    
    <apex:pageMessage summary="Your PDF will be downloaded shortly..." severity="info" strength="3"/>
    <div class="loader"></div>
    
    <apex:form >
        <apex:actionFunction action="{!setRenderClosePlanPage}" name="setRenderClosePlanPageJS"/>
        <apex:actionFunction action="{!refreshCurrentPage}" name="refreshCurrentPageJS"/>
    </apex:form>
    
</apex:page>