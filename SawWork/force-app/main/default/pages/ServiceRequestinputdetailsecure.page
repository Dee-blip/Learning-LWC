<apex:page standardController="BMCServiceDesk__Incident__c" extensions="HD_ServiceRequestinputdetailsecure_ctrl" showHeader="false" id="sridspage">
<apex:form id="sridsform" >
<apex:pageBlock id="sridspageblock" title="{!BMCServiceDesk__Incident__c.BMCServiceDesk__FKRequestDefinition__r.Name} for #{!BMCServiceDesk__Incident__c.Name}">
<apex:pageBlockButtons location="Top" onclick="return false;">
<apex:commandButton value="Print" onclick="variable_popitup('/apex/ServiceRequestprintservice?id={!SRMprintserv.id}&reqdefid={!BMCServiceDesk__Incident__c.BMCServiceDesk__FKRequestDefinition__r.Id}&incid={!BMCServiceDesk__Incident__c.Id}','800','450');return false;"  rendered="{!IF(SRMprintserv=null,false,true)}"/>
<apex:commandButton value="Quick Edit Template" onclick="variable_popitup('/{!SRMprintserv.id}?isdtp=vw','800','450');return false;"  rendered="{!IF(SRMprintserv=null,false,true)}"/>
</apex:pageBlockButtons>
<apex:pageBlockSection id="sridspageblocksection1">

<apex:repeat value="{!reqdet}" var="rd">

<apex:OutputField value="{!rd.BMCServiceDesk__FKClient__c}" label="Request For "/>
<apex:OutputField value="{!rd.Owner.Name}" label="Request By "/> 
<apex:OutputField value="{!rd.BMCServiceDesk__FKClient__r.EmployeeNumber}" label="Employee Number "/>
<apex:OutputField value="{!rd.BMCServiceDesk__FKClient__r.Phone}" label="Phone "/> 
<apex:OutputField value="{!rd.BMCServiceDesk__FKClient__r.Email}" label="Email "/> 
<apex:OutputField value="{!rd.BMCServiceDesk__FKClient__r.Department}" label="Department"/>
<apex:OutputField value="{!rd.BMCServiceDesk__FKClient__r.Division}" label="Division "/>
<apex:OutputField value="{!rd.BMCServiceDesk__DateRequired__c}" label="Date Required  "/> 
<apex:OutputField value="{!rd.BMCServiceDesk__DateExpected__c}" label="Date Expected  "/>
<apex:OutputField value="{!rd.BMCServiceDesk__Quantity__c}" label="Quantity  " rendered="false"/> 
<apex:OutputField value="{!rd.BMCServiceDesk__CustomerPrice__c}" label="Unit Price" rendered="false"/> 
<apex:OutputField value="{!rd.BMCServiceDesk__TotalPrice__c}" label="Total Price " rendered="false"/> 

</apex:repeat>


</apex:pageBlockSection>

<hr></hr>

<apex:pageBlockSection id="sridspageblocksection2" title="Input Details" collapsible="false" columns="2">
<apex:repeat value="{!reqindet}" var="rdin">
<apex:Outputtext value="{!rdin.BMCServiceDesk__Response__c}" label="{!rdin.BMCServiceDesk__Input__c}" rendered="{!NOT(rdin.BMCServiceDesk__FKFulfillmentInputs__r.HD_Secure_Field__c && currentUser.HD_View_Helpdesk_Confidential_Data__c)}" style="{!IF(CONTAINS(rdin.BMCServiceDesk__Response__c,'Data is encrypted'),'color:red;font-style: italic;','')}"></apex:Outputtext>
<apex:Outputtext value="{!rdin.HD_Secure_Response__c}" label="{!rdin.BMCServiceDesk__Input__c}" rendered="{!rdin.BMCServiceDesk__FKFulfillmentInputs__r.HD_Secure_Field__c && rdin.HD_Ffi_Response_Type__c !='Text Area' && (currentUser.HD_View_Helpdesk_Confidential_Data__c)}" style="color:red;"></apex:Outputtext>
<apex:Outputtext value="{!rdin.BMCServiceDesk__Response__c}" label="{!rdin.BMCServiceDesk__Input__c}" rendered="{!rdin.BMCServiceDesk__FKFulfillmentInputs__r.HD_Secure_Field__c && rdin.HD_Ffi_Response_Type__c =='Text Area' && (currentUser.HD_View_Helpdesk_Confidential_Data__c)}" style="color:red;"></apex:Outputtext>
</apex:repeat>
</apex:pageBlockSection>


</apex:pageBlock>
</apex:form>
<!----- Script ----->
<script type="Text/javascript">

//popup function
function variable_popitup(url,height,width) {
    newwindow=window.open(url,'name','height='+height,'width='+width);
    if (window.focus) {newwindow.focus()}
    return false;
}//

</script>

</apex:page>