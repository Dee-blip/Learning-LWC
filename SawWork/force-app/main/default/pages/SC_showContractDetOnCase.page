<!--=====================================================================================================+

|  HISTORY  |                                                                            

|  DATE             DEVELOPER       CR          DESCRIPTION                               

|  ===========      =========       =======         =========== 
                                                       
|  16-MAR-2017      Himanshu Kar    3281921(17.3)     VF Page to dispaly BOCC Entitlements on Case page
+=====================================================================================================-->

<apex:page standardController="case" extensions="SC_Sync_Contract_Eng_MrktgProd_Batch" showHeader="false" lightningStylesheets="true">
<apex:includeScript value="/support/console/24.0/integration.js"/>
<apex:form >
<apex:pageBlock id="page"> 
<script>
    
function testOpenPrimaryTab(navUrl,tabName){
    
    if (sforce.console.isInConsole()) {
        sforce.console.openPrimaryTab(null, navUrl, true,tabName, openSuccess,'salesforceTab');
    }
    else{
        window.open(navUrl,'_blank');
    }
}
function openSuccess() {}
         
        
</script>    
        
            <apex:PageBlockTable value="{!BoccDataForCasePage}" var="res" id="myTable">
                
                <apex:column >
                     <apex:facet name="header">
                         <apex:commandLink value="Product Name" reRender="myTable">
                             <apex:param name="sortField" value="Marketing_Product_Name__c" assignTo="{!sortField}" />
                             <apex:param name="myOrder" value="{!IF(sortOrder == 'ASC', 'DESC','ASC')}" assignTo="{!sortOrder}" /> 
                             <apex:param name="fromMethod" value="true" assignTo="{!fromMethod}"/>
                         </apex:commandLink>
                     </apex:facet>
                  <apex:outputField value="{!res.Marketing_Product_Name__c}" />
                </apex:column>
                
                <apex:column >
                     <apex:facet name="header">
                         <apex:commandLink value="Product Id" reRender="myTable">
                             <apex:param name="sortField" value="Product_ID__c" assignTo="{!sortField}" />
                             <apex:param name="myOrder" value="{!IF(sortOrder == 'ASC', 'DESC','ASC')}" assignTo="{!sortOrder}" /> 
                             <apex:param name="fromMethod" value="true" assignTo="{!fromMethod}"/>
                         </apex:commandLink>
                     </apex:facet>
                  <apex:outputField value="{!res.Product_ID__c}" />
                </apex:column>
                
                <apex:column >
                     <apex:facet name="header">
                         <apex:commandLink value="Effective Start Date" reRender="myTable">
                             <apex:param name="sortField" value="Effective_Start_Date__c" assignTo="{!sortField}" />
                             <apex:param name="myOrder" value="{!IF(sortOrder == 'ASC', 'DESC','ASC')}" assignTo="{!sortOrder}" />
                             <apex:param name="fromMethod" value="true" assignTo="{!fromMethod}"/> 
                         </apex:commandLink>
                     </apex:facet>
                  <apex:outputField value="{!res.Effective_Start_Date__c}" />
                </apex:column>
                
                <apex:column >
                     <apex:facet name="header">
                         <apex:commandLink value="Effective End Date" reRender="myTable">
                             <apex:param name="sortField" value="Effective_End_Date__c" assignTo="{!sortField}" />
                             <apex:param name="myOrder" value="{!IF(sortOrder == 'ASC', 'DESC','ASC')}" assignTo="{!sortOrder}" />
                             <apex:param name="fromMethod" value="true" assignTo="{!fromMethod}"/> 
                         </apex:commandLink>
                     </apex:facet>
                  <apex:outputField value="{!res.Effective_End_Date__c}" />
                </apex:column>
                
                 <apex:column >
                     <apex:facet name="header">
                         <apex:commandLink value="Contract ID" reRender="myTable">
                             <apex:param name="sortField" value="Contract_ID__c" assignTo="{!sortField}" />
                             <apex:param name="myOrder" value="{!IF(sortOrder == 'ASC', 'DESC','ASC')}" assignTo="{!sortOrder}" /> 
                             <apex:param name="fromMethod" value="true" assignTo="{!fromMethod}"/>
                         </apex:commandLink>
                     </apex:facet>
                  <A HREF="#" onClick="testOpenPrimaryTab('/{!res.Original_Contract_Id__c}','{!res.Contract_ID__c}');return false">
                        {!res.Contract_ID__c}
                    </A> 
                </apex:column>
                
                
                
               
            </apex:PageBlockTable>
            <div align="center">
                <apex:commandLink value="|<<" reRender="page" action="{!first}" title="First Page"/>&nbsp;&nbsp;&nbsp;&nbsp;
                <apex:commandLink value="<<" reRender="page" action="{!previous}" title="Previous Page"/>&nbsp;&nbsp;&nbsp;&nbsp;
                <apex:outputText >Showing {!getPageNumber} of {!getTotalPageNumber}</apex:outputText>&nbsp;&nbsp;&nbsp;&nbsp;
                <apex:commandLink value=">>" reRender="page" action="{!next}" title="Next Page"/>&nbsp;&nbsp;&nbsp;&nbsp;
                <apex:commandLink value=">>|" reRender="page" action="{!last}" title="Last Page"/>
            </div>
    </apex:pageBlock> 
</apex:form>
</apex:page>