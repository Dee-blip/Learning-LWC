<!--
    Author   : Vamsee
    Date     : 19th July 2016
    Purpose  : This page is to view the Special Instruction [CR : 3470841]
-->
<apex:page standardController="Special_Instructions__c" extensions="SC_SpecialInstructionViewCtrl" title="Special Instructions" lightningStylesheets="true">
   	<apex:outputPanel > 
    	<apex:form >
        	<apex:pageBlock title="Special Instruction" >
            	<apex:pageBlockSection title="Special Instruction Details" columns="2" collapsible="false">
                    <apex:outputField value="{!specialInstructionObject.Title_Formula__c}"/>
                    <apex:outputField value="{!specialInstructionObject.Account__c}"/>
                    <apex:outputField value="{!specialInstructionObject.Start_Date__c}"/>
                    <apex:outputField value="{!specialInstructionObject.Expiration_Date__c}"/>
                    <apex:outputText label="Instructions" value="{!instructions}" escape="false"/>
                    <apex:outputText Label="Show for Record Types" value="{!recordTypes}"/>
				</apex:pageBlockSection>
                <apex:pageBlockButtons >
                    <apex:commandButton action="{!edit}" value="Edit"/>
                </apex:pageBlockButtons>
			</apex:pageBlock>
            <apex:pageBlock title="Special Instructions History">
            	<apex:pageBlockTable value="{!specialInstructionObject.histories}" var="specialInstructionHistory" >
        			<apex:column headerValue="Date" value="{!specialInstructionHistory.createddate}"/>
                	<apex:column headerValue="User" value="{!specialInstructionHistory.createdBy.name}"/>
                	<apex:column headerValue="Action">
                    	<apex:outputText rendered="{!specialInstructionHistory.field != 'created'}" value="Changed "/>
                    	<span style="font-weight:bold;">
                    		<apex:outputField value="{!specialInstructionHistory.field}" /></span>
                    	<apex:outputText rendered="{!specialInstructionHistory.oldvalue == null && specialInstructionHistory.newvalue == null}" value="." />
                    	<apex:outputText rendered="{!specialInstructionHistory.oldvalue == null && specialInstructionHistory.newvalue != null}" value=" to {!specialInstructionHistory.newvalue}." />
                    	<apex:outputText rendered="{!specialInstructionHistory.oldvalue != null}" value=" from {!specialInstructionHistory.oldvalue} to {!specialInstructionHistory.newvalue}." />
   					</apex:column> 
				</apex:pageBlockTable>
           </apex:pageBlock>
         </apex:form>
	</apex:outputPanel>
</apex:page>